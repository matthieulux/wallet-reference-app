(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{145:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),i=n(13),s=n.n(i),l=n(8),o=n.n(l),j=n(27),d=n(55),u=n(17),b=n(86),O=n(87),h=n(95),f=n(94),x=n(18),p=n.n(x),A=n(197),m=n(93),v=Object(m.a)({palette:{primary:{main:"#006BE5"}}}),g=n(175),w=n(177),y=n(179),C=n(72),I=n.p+"static/media/wallet.f0d249e6.svg",k=Object(g.a)((function(e){return{offset:e.mixins.toolbar,title:{flexGrow:1,color:"white"},logo:{height:"2.5rem"}}}));function B(){var e=k();return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(w.a,{position:"fixed",children:Object(a.jsxs)(y.a,{children:[Object(a.jsx)("img",{className:e.logo,src:I,style:{marginRight:"0.5rem"},alt:"wallet logo"}),Object(a.jsx)(C.a,{variant:"h6",className:e.title,children:"Wallet Reference App"}),Object(a.jsx)("a",{href:"https://trinsic.id",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("img",{className:e.logo,src:"data:image/png;base64,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",alt:"trinsic logo"})})]})}),Object(a.jsx)("div",{className:e.offset})]})}var N=n(180),S=n(98),F=n(12),R=n(198),Q=n(199),D=n(182),q=r.a.createContext();function z(){var e=Object(c.useContext)(q),t=Object(c.useState)(""),n=Object(F.a)(t,2),i=n[0],s=n[1],l=Object(c.useState)(""),j=Object(F.a)(l,2),d=j[0],b=j[1],O=function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.handleBackdrop(!0),n={ownerName:""===i?null:i,walletId:""===d?null:d},t.next=4,p.a.post("/api/createWallet/",n);case 4:b(""),s(""),e.getWallets(),e.handleBackdrop(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(C.a,{style:{marginBottom:"1rem"},variant:"h5",align:"center",children:"Create a New Wallet"}),Object(a.jsx)("form",{children:Object(a.jsxs)(N.a,{container:!0,spacing:2,children:[Object(a.jsx)(N.a,{item:!0,lg:12,children:Object(a.jsx)(R.a,{helperText:"Can be blank",fullWidth:!0,label:"Wallet ID",variant:"outlined",value:d,onChange:function(e){return b(e.target.value)}})}),Object(a.jsx)(N.a,{item:!0,lg:12,children:Object(a.jsx)(R.a,{helperText:"Can be blank",fullWidth:!0,label:"Wallet Name",variant:"outlined",value:i,onChange:function(e){return s(e.target.value)}})}),Object(a.jsx)(N.a,{item:!0,lg:12,children:Object(a.jsx)(Q.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(a.jsx)(D.a,{onClick:O,variant:"contained",color:"primary",children:"Create"})})})]})})]})}var P=n(183),W=n(184),X=n(185),G=n(186),M=n(187),K=n(188),Y=n(189),E=n(91),H=n.n(E),L=n(40),T=n.n(L),J=n(16);function U(){var e=Object(c.useContext)(q),t=Object(J.f)();Object(c.useEffect)((function(){e.getWallets()}),[]);var n=function(){var t=Object(u.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.handleBackdrop(!0),t.next=3,p.a.post("/api/deleteWallet/",{walletId:n});case 3:a=t.sent,console.log(a),e.getWallets(),e.handleBackdrop(!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(C.a,{variant:"h5",align:"center",children:"Your Wallets"}),Object(a.jsx)(P.a,{style:{marginTop:"1rem"},component:S.a,children:Object(a.jsxs)(W.a,{children:[Object(a.jsx)(X.a,{children:Object(a.jsxs)(G.a,{children:[Object(a.jsx)(M.a,{children:"Wallet ID"}),Object(a.jsx)(M.a,{children:"Name"}),Object(a.jsx)(M.a,{}),Object(a.jsx)(M.a,{})]})}),Object(a.jsx)(K.a,{children:e.wallets.map((function(e){return Object(a.jsxs)(G.a,{children:[Object(a.jsx)(M.a,{children:e.walletId}),Object(a.jsx)(M.a,{children:e.name}),Object(a.jsx)(M.a,{children:Object(a.jsx)(Y.a,{color:"secondary",onClick:function(){return n(e.walletId)},children:Object(a.jsx)(H.a,{})})}),Object(a.jsx)(M.a,{children:Object(a.jsx)(Y.a,{color:"primary",onClick:function(){return t.push("/wallets/".concat(e.walletId))},children:Object(a.jsx)(T.a,{})})})]},e.walletId)}))})]})})]})}var Z=Object(g.a)((function(e){return{section:{margin:e.spacing(3),padding:e.spacing(2)}}}));function V(){var e=Z();return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsxs)(N.a,{container:!0,spacing:1,justify:"center",children:[Object(a.jsx)(N.a,{item:!0,lg:3,children:Object(a.jsx)(S.a,{className:e.section,children:Object(a.jsx)(z,{})})}),Object(a.jsx)(N.a,{item:!0,lg:6,children:Object(a.jsx)(S.a,{className:e.section,children:Object(a.jsx)(U,{})})})]})})}var _=n(53),$=n(195),ee=n(190),te=n(191),ne=n(192),ae=n(193);function ce(e){return Object(a.jsxs)(ee.a,{open:e.open,onClose:e.close,children:[Object(a.jsx)(te.a,{children:e.currentAction.schemaId.split(":")[2]}),Object(a.jsx)(ne.a,{children:Object(a.jsx)(P.a,{style:{backgroundColor:"#F9FAFB"},component:S.a,children:Object(a.jsx)(W.a,{size:"small",children:Object(a.jsx)(K.a,{children:Object.entries(e.currentAction.values).map((function(e){var t=Object(F.a)(e,2),n=t[0],c=t[1];return Object(a.jsxs)(G.a,{children:[Object(a.jsx)(M.a,{children:n}),Object(a.jsx)(M.a,{children:c})]},n)}))})})})}),Object(a.jsxs)(ae.a,{children:[Object(a.jsx)(D.a,{variant:"contained",onClick:e.close,children:"Cancel"}),Object(a.jsx)(D.a,{variant:"contained",onClick:e.accept,autoFocus:!0,color:"primary",children:"Accept"})]})]})}var re=n(194);function ie(e){return Object(a.jsxs)(ee.a,{open:e.open,onClose:e.close,children:[Object(a.jsxs)(te.a,{children:["Verification - ",e.currentAction.policy.name]}),Object(a.jsx)(ne.a,{children:Object(a.jsx)(re.a,{children:"The verification will be fulfilled by automatically selecting a credential in your wallet that meets all the criteria of the request."})}),Object(a.jsxs)(ae.a,{children:[Object(a.jsx)(D.a,{variant:"contained",onClick:e.close,children:"Cancel"}),Object(a.jsx)(D.a,{variant:"contained",color:"primary",onClick:function(){return e.prove(e.currentAction.verificationId)},children:"Verify"})]})]})}function se(e,t){var n=Object(c.useRef)();Object(c.useEffect)((function(){n.current=e}),[e]),Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}function le(e){var t=Object(c.useContext)(q),n=Object(c.useState)({availableCredentials:[]}),i=Object(F.a)(n,2),s=i[0],l=i[1],j=Object(c.useState)([]),d=Object(F.a)(j,2),b=d[0],O=d[1],h=Object(c.useState)({policy:{name:""}}),f=Object(F.a)(h,2),x=f[0],A=f[1],m=Object(c.useState)({schemaId:"",values:{"First Name":"Trinsic"}}),v=Object(F.a)(m,2),g=v[0],w=v[1],y=Object(c.useState)(!1),I=Object(F.a)(y,2),k=I[0],B=I[1],N=Object(c.useState)(!1),R=Object(F.a)(N,2),Q=R[0],D=R[1],z=Object(c.useState)([]),X=Object(F.a)(z,2),E=X[0],H=X[1],L=function(){var t=Object(u.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("/api/listCredentials/".concat(e.walletId));case 2:return n=t.sent,t.next=5,p.a.get("/api/listVerifications/".concat(e.walletId));case 5:a=t.sent,H(a.data.filter((function(e){return"Requested"===e.state}))),O(n.data.filter((function(e){return"Offered"===e.state})));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=Object(u.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("/api/listAvailableCredentials/".concat(e.walletId,"/").concat(n));case 2:a=t.sent,l(a.data[0]);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(){B(!1)},Z=function(){var n=Object(u.a)(o.a.mark((function n(){var a,c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.handleBackdrop(!0),U(),n.next=4,p.a.post("/api/acceptCredential/".concat(e.walletId,"/").concat(g.credentialId,"/"));case 4:return a=n.sent,console.log("acceptance",a.data),c=(c=b).filter((function(e){return e.credentialId!=g.credentialId})),O(c),n.next=11,t.getCredentials(e.walletId);case 11:t.handleBackdrop(!1);case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),V=function(){D(!1)},_=function(){var e=Object(u.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.handleBackdrop(!0),e.next=3,J(n.verificationId);case 3:A(n),D(!0),t.handleBackdrop(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var t=Object(u.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return V(),t.next=3,p.a.post("/api/submitVerification/".concat(e.walletId,"/").concat(n));case 3:a=t.sent,console.log(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return se((function(){L()}),2e3),Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(C.a,{align:"center",variant:"h6",children:"Actions"}),Object(a.jsx)(P.a,{style:{marginTop:"0.5rem"},component:S.a,children:Object(a.jsx)(W.a,{children:Object(a.jsxs)(K.a,{children:[b.map((function(e){return Object(a.jsxs)(G.a,{children:[Object(a.jsx)(M.a,{children:Object(a.jsx)(C.a,{variant:"body1",color:"primary",children:"Credential Offer"})}),Object(a.jsx)(M.a,{children:Object(a.jsx)(C.a,{variant:"body1",style:{color:"#5F7186"},children:e.schemaId.split(":")[2]})}),Object(a.jsx)(M.a,{children:Object(a.jsx)(Y.a,{onClick:function(){return w(e),void B(!0)},color:"primary",children:Object(a.jsx)(T.a,{})})})]},e.credentialId)})),E.map((function(e){return Object(a.jsxs)(G.a,{children:[Object(a.jsx)(M.a,{children:Object(a.jsx)(C.a,{variant:"body1",color:"primary",children:"Credential Verification Request"})}),Object(a.jsx)(M.a,{children:Object(a.jsx)(C.a,{variant:"body1",style:{color:"#5F7186"},children:e.policy.name})}),Object(a.jsx)(M.a,{children:Object(a.jsx)(Y.a,{onClick:function(){return _(e)},color:"primary",children:Object(a.jsx)(T.a,{})})})]},e.verificationId)}))]})})}),Object(a.jsx)(ce,{open:k,close:U,currentAction:g,accept:Z}),Object(a.jsx)(ie,{open:Q,close:V,currentAction:x,availableCredentials:s,prove:$})]})}var oe=n(201),je=n(200);function de(e){return Object(a.jsx)(je.a,Object(j.a)({elevation:6,variant:"filled"},e))}function ue(e){return Object(a.jsx)(oe.a,{open:e.open,autoHideDuration:6e3,onClose:e.close,children:Object(a.jsx)(de,{onClose:e.close,severity:"success",children:e.message})})}function be(e){var t=Object(c.useContext)(q),n=Object(c.useState)(""),i=Object(F.a)(n,2),s=i[0],l=i[1],j=Object(c.useState)(!1),d=Object(F.a)(j,2),b=d[0],O=d[1],h=Object(c.useState)({error:!1,message:""}),f=Object(F.a)(h,2),x=f[0],A=f[1],m=function(){var n=Object(u.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.handleBackdrop(!0),n.prev=1,n.next=4,p.a.post("/api/acceptConnection/",{inviteUrl:s,walletId:e.walletId});case 4:200===n.sent.status&&(l(""),A({error:!1,message:""}),O(!0)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),A({error:!0,message:"Invalid URL"});case 11:t.handleBackdrop(!1);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(){return n.apply(this,arguments)}}();return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(C.a,{style:{marginBottom:"0.5rem",marginTop:"1rem"},align:"center",variant:"h6",children:"Accept Connection"}),Object(a.jsxs)("form",{children:[Object(a.jsx)(R.a,{error:x.error,helperText:x.message,onChange:function(e){return l(e.target.value)},value:s,required:!0,fullWidth:!0,variant:"outlined",label:"Invite URL"}),Object(a.jsx)(Q.a,{style:{marginTop:"0.5rem"},display:"flex",justifyContent:"center",alignItems:"center",children:Object(a.jsx)(D.a,{onClick:m,variant:"contained",color:"primary",children:"Accept"})})]}),Object(a.jsx)(ue,{open:b,message:"Connection Successful!",close:function(){O(!1)}})]})}var Oe=n(92),he=n.n(Oe);function fe(e){return Object(a.jsxs)(ee.a,{open:e.open,onClose:e.close,children:[Object(a.jsx)(Y.a,{style:{position:"absolute",right:"0",margin:"0.25rem"},onClick:e.close,children:Object(a.jsx)(he.a,{})}),Object(a.jsxs)(te.a,{children:[e.credential.schemaId.split(":")[2],Object(a.jsx)(C.a,{variant:"subtitle2",style:{color:"#5F7186"},children:e.credential.connectionName})]}),Object(a.jsx)(ne.a,{children:Object(a.jsx)(P.a,{style:{backgroundColor:"#F9FAFB",marginBottom:"1rem"},component:S.a,children:Object(a.jsx)(W.a,{size:"small",children:Object(a.jsx)(K.a,{children:Object.entries(e.credential.values).map((function(e){var t=Object(F.a)(e,2),n=t[0],c=t[1];return Object(a.jsxs)(G.a,{children:[Object(a.jsx)(M.a,{children:n}),Object(a.jsx)(M.a,{children:c})]},n)}))})})})})]})}function xe(e){Object(c.useContext)(q);var t=Object(c.useState)([]),n=Object(F.a)(t,2),i=n[0],s=n[1],l=Object(c.useState)([]),j=Object(F.a)(l,2),b=(j[0],j[1]),O=Object(c.useState)({schemaId:"1",values:{}}),h=Object(F.a)(O,2),f=h[0],x=h[1],A=Object(c.useState)(!1),m=Object(F.a)(A,2),v=m[0],g=m[1],w=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=i.filter((function(e){return e.credentialId===n}))[0],x(a),g(!0);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,c,r,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/listCredentials/".concat(t));case 2:return n=e.sent,e.next=5,p.a.get("/api/listConnections/".concat(t));case 5:a=e.sent,c=n.data.filter((function(e){return"Issued"===e.state})),r=Object(d.a)(c);try{for(l=function(){var e=i.value;e.connectionName=a.data.filter((function(t){return t.connectionId===e.connectionId}))[0].name},r.s();!(i=r.n()).done;)l()}catch(o){r.e(o)}finally{r.f()}s(c),b(a.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return se((function(){y(e.walletId)}),2e3),Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(C.a,{align:"center",variant:"h6",children:"Credentials"}),Object(a.jsx)(P.a,{style:{marginTop:"0.5rem"},component:S.a,children:Object(a.jsx)(W.a,{children:Object(a.jsx)(K.a,{children:i.map((function(e){return Object(a.jsxs)(G.a,{children:[Object(a.jsx)(M.a,{children:Object(a.jsx)(C.a,{variant:"body1",color:"primary",children:e.schemaId.split(":")[2]})}),Object(a.jsx)(M.a,{children:Object(a.jsx)(C.a,{variant:"body1",style:{color:"#5F7186"},children:e.connectionName})}),Object(a.jsx)(M.a,{children:Object(a.jsx)(Y.a,{color:"primary",onClick:function(t){return w(t,e.credentialId)},children:Object(a.jsx)(T.a,{})})})]},e.credentialId)}))})})}),Object(a.jsx)(fe,{credential:f,open:v,close:function(){g(!1)}})]})}var pe=Object(g.a)((function(e){return{section:{margin:e.spacing(3),padding:e.spacing(2)}}}));function Ae(){var e=pe(),t=Object(J.g)().id,n=Object(c.useContext)(q),i=Object(J.f)(),s=Object(c.useState)({walletId:"1",ownerName:"Name"}),l=Object(F.a)(s,2),j=l[0],d=l[1];Object(c.useEffect)((function(){n.handleBackdrop(!0),b(),setTimeout((function(){n.handleBackdrop(!1)}),3e3)}),[]);var b=function(){var e=Object(u.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/listWallets/");case 2:n=e.sent,a=n.data.filter((function(e){return e.walletId===t}))[0],d(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(C.a,{onClick:function(e){return i.push("/")},variant:"body1",color:"primary",style:{position:"absolute"},children:Object(a.jsx)($.a,{href:"#",children:"Back To Home"})}),Object(a.jsx)(N.a,{container:!0,spacing:0,justify:"center",children:Object(a.jsx)(N.a,{item:!0,lg:8,children:Object(a.jsxs)(S.a,{className:e.section,children:[Object(a.jsx)(C.a,{align:"center",variant:"h5",children:j.name}),Object(a.jsxs)(N.a,{container:!0,spacing:3,children:[Object(a.jsxs)(N.a,{item:!0,md:6,children:[Object(a.jsx)(le,{walletId:t}),Object(a.jsx)(be,{walletId:t})]}),Object(a.jsx)(N.a,{item:!0,md:6,children:Object(a.jsx)(xe,{walletId:t})})]})]})})})]})}var me=n(147),ve=n(196),ge=Object(g.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function we(){var e=ge(),t=Object(c.useContext)(q);return Object(a.jsx)(me.a,{className:e.backdrop,open:t.backdrop,children:Object(a.jsx)(ve.a,{color:"inherit"})})}function ye(){return Object(a.jsx)(A.a,{theme:v,children:Object(a.jsxs)(_.a,{children:[Object(a.jsx)(B,{}),Object(a.jsxs)(J.c,{children:[Object(a.jsx)(J.a,{path:"/wallets/:id",children:Object(a.jsx)(Ae,{})}),Object(a.jsx)(J.a,{path:"/",children:Object(a.jsx)(V,{})})]}),Object(a.jsx)(we,{})]})})}var Ce=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).getCredentials=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,r,i,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.handleBackdrop(!0),e.next=3,p.a.get("/api/listCredentials/".concat(t));case 3:return n=e.sent,e.next=6,p.a.get("/api/listConnections/".concat(t));case 6:c=e.sent,r=n.data.filter((function(e){return"Issued"===e.state})),i=Object(d.a)(r);try{for(l=function(){var e=s.value;e.connectionName=c.data.filter((function(t){return t.connectionId===e.connectionId}))[0].name},i.s();!(s=i.n()).done;)l()}catch(o){i.e(o)}finally{i.f()}console.log("context",r),a.setState(Object(j.a)(Object(j.a)({},a.state),{},{credentials:r,connections:c.data})),a.handleBackdrop(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getWallets=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.handleBackdrop(!0),e.next=3,p.a.get("/api/listWallets/");case 3:t=e.sent,a.setState(Object(j.a)(Object(j.a)({},a.state),{},{wallets:t.data})),a.handleBackdrop(!1);case 6:case"end":return e.stop()}}),e)}))),a.handleBackdrop=function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{backdrop:e}))},a.actions={getWallets:a.getWallets,handleBackdrop:a.handleBackdrop,getCredentials:a.getCredentials},a.state={wallets:[],backdrop:!1,credentials:[],connections:[]},a}return Object(O.a)(n,[{key:"render",value:function(){return Object(a.jsx)(q.Provider,{value:Object(j.a)(Object(j.a)({},this.state),this.actions),children:Object(a.jsx)(ye,{})})}}]),n}(c.Component);s.a.render(Object(a.jsx)(Ce,{}),document.getElementById("root"))}},[[145,1,2]]]);
//# sourceMappingURL=main.9619ab0d.chunk.js.map